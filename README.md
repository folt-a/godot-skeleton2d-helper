#Godot Skeleton2D Helper

Godot4.3〜4.4のボーンアニメーションの制作をサポートするツールです。

GodotEditorのエディタアドオンとして使用します。

自分用に作成しているものです。機能は揃っていますがドキュメントが薄いです。

また、追加予定の機能もありますが
今後2Dメッシュをゲームで使用するプロジェクトを本格的にはじめたときに使用するので、その時に手入れをします。

![image](https://github.com/user-attachments/assets/32cd3b5f-e054-4da7-ae7a-d7e7d684ebac)

## 基本機能

- ボーンの作成・移動
- 割り当てるスプライトシート画像の登録・範囲の管理
- 画像のポリゴン割り
- アニメーション補助

いちおしはポリゴン割りです。
SpineやLive2DのようなメッシュアニメーションはGodotSkeleton2DとPolygon2Dのノードで一応できるのですが作成手順がとても面倒です。
このアドオンを使えばそのあたりの操作がやりやすくなります。

## 使い方

アドオンを有効にします。

2Dのシーンを開くと2Dキャンバスメインビューの下部にタブが出ています。

シーンにSkeleton2Dノードと、その子としてルートのBone2Dノードを追加します。

ボーンから追加するか、画像から登録するかはあなたのワークフローによります。

![image](https://github.com/user-attachments/assets/11c9e5b7-688b-4071-af66-0af077c21648)

## 「ボーン」タブ
ボーンの作成・移動を行います。

おそらく、ショートカットでの使用が多いです。
(X)のようになっているのがショートカットキーです。

現在は変更不可能です。(変更したいときは内部コードのどこかを変更してください)

### ゆる選択（X）
マウスカーソルの近くにあるボーンを選択します。

### ボーンの追加（Shift＋A）
「ボーンを押し出し」のように
選択中のボーンからマウスの位置へと子のBone2Dを作成します。

### ボーンの頭の移動（A）
ボーンの頭（Head）を移動します。頭のみが動きます。
マウスを移動させると移動したぶんだけ動きます。

### ボーンの先端の移動（A）
ボーンの先端（Tail）を移動します。頭のみが動きます。
マウスを移動させると移動したぶんだけ動きます。

---

Godotのボーンはなんか……1本余分に増やさないと動かない？
ふだんBlenderとか触ってると違和感があるけど2Dだとこんなもんなの？根っこ曲げるときとか……

---

## 「画像」タブ

![image](https://github.com/user-attachments/assets/89e97561-335f-4715-800b-e366dfad23a2)

画像ファイルを登録します。
画像ファイルは透明部分を矩形で分割して、範囲Regionをリストに登録します。

登録した画像の情報はルートディレクトリの"skeleton2dhelper_save.txt"に保存されています。

メッシュアニメにしたい場合はポリゴンの割りをします。

外周点の＋でおおまかに追加していきます。
囲ったあとにその外周点を点えんぴつマークみたいなボタンでこまかくして配置していきます。
移動は移動っぽいボタンを押すとマウスでクリックした近くの点を動かします。

近いものを選択するのでマウスのエイム力は必要ありません！

そのあとに内部点を追加していきます。やり方はおなじです。
内部点は青く表示されます

へんなとこにうったりポリゴンとしておかしくなると表示されませんが、点を移動して正常にもどすと直ります。

## 「アニメーション」タブ

![image](https://github.com/user-attachments/assets/1da4e899-0ba8-420b-a0b1-5caf6843d0bd)

ボーンアニメーション作成の補助をするときのタブです。

かなり作りかけです。

キー関連をもうちょっとなんとかする予定。
